<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:fragment="headerFragment">
    <header id="header">
        <div class="content-box">
            <nav id="top-menu">
                <ul>
                    <li><a href="loginForm" th:href="@{/login}" th:if="${session.member eq null}">Î°úÍ∑∏Ïù∏</a></li>
                    <li th:unless="${session.member eq null}">
                        <form th:action="@{/logout}" method="post">
                            <button id="logoutBtn" type="submit">Î°úÍ∑∏ÏïÑÏõÉ</button>
                        </form>
                    </li>
                    <li><a href="mypageForm.html" th:href="@{|/mypage|}" th:unless="${session.member eq null}">ÎßàÏù¥ÌéòÏù¥ÏßÄ</a></li>
                    <li th:unless="${session.member eq null}" th:text="'Ìè¨Ïù∏Ìä∏: ' + ${member.userPoint}"></li>
                    <script th:inline="javascript">
                        // Î°úÍ∑∏Ïù∏, Î°úÍ∑∏ÏïÑÏõÉÏóê Îî∞Î•∏ ÏúÑÏπò Ï°∞Ï†ï
                        const menu = document.getElementById('top-menu');
                        if ([[${session.member}]] == null) {
                            menu.style.left = '1%';
                        }
                    </script>
                </ul>
            </nav>
            <hr class="hr">
            <nav id="title">
                <div id="menu-btn-div">
                    <div><i class="fa-solid fa-bars fa-2x" onclick="mobile_menu()"></i></div>
                </div>
                <script>
                    function mobile_menu() {
                        if ($("#menu").is(':visible')) {
                            // $("#menu").hide();
                            $("#menu").removeClass("mobile-menu");
                        } else {
                            // $("#menu").show();
                            $("#menu").addClass("mobile-menu");
                        }
                    }
                </script>
                <div id="logo">
                    <a id="logo_title" href="/">Ïπ®ÌïòÌïò
                        <!-- <img src="/images/logo.png" alt="Ïπ®ÌïòÌïò"> -->
                    </a>
                </div>
                <div id="search">
                    <form action="/search" th:action="@{|/search|}" th:object="${board}" method="get" th:if="${session.member ne null}">
                        <input id="searchInput" name="searchKeyword" type="text">
                        <button>
                            <i class="fa-solid fa-magnifying-glass fa-2x"></i>
                        </button>
                    </form>
                    <button type="button" onclick="mSearch()" th:if="${session.member ne null}">
                        <i class="fa-solid fa-magnifying-glass fa-2x"></i>
                    </button>
                    <script>
                        function mSearch() {
                            if ($("#mobile_search").is(':visible')) {
                                $("#mobile_search").addClass("none_mobile_search");
                                $("#mobile_search").removeClass("mobile_search");
                                $("#mobileSearchInput").blur();
                            } else {
                                $("#mobile_search").addClass("mobile_search");
                                $("#mobile_search").removeClass("none_mobile_search");
                                $("#mobileSearchInput").focus();
                            }
                        }
                    </script>
                </div>
            </nav>
            <div id="mobile_search" class="none_mobile_search">
                <form action="/search" th:action="@{|/search|}" th:object="${board}" method="get">
                    <input id="mobileSearchInput" name="searchKeyword" type="text">
                    <button>
                        <i class="fa-solid fa-magnifying-glass fa-xl"></i>
                    </button>
                </form>
            </div>

            <nav id="menu">
                <div id="mobile-mypage-grid">
                    <div class="mypage-item" th:unless="${session.member eq null}">
                        <button class="mobile-logout-btn" onclick="location.href='mypageForm.html'" th:onclick="|location.href='@{/mypage}'|" type="button">ÎßàÏù¥ÌéòÏù¥ÏßÄ</button>
                    </div>
                    <div class="mypage-item" th:if="${session.member eq null}">
                        <button class="mobile-logout-btn" onclick="location.href='joinForm.html'" th:onclick="|location.href='@{/login}'|" type="button">Î°úÍ∑∏Ïù∏</button>
                    </div>
                    <div class="mypage-item" th:unless="${session.member eq null}">
                        <form th:action="@{/logout}" method="post">
                            <button class="mobile-logout-btn" type="submit">Î°úÍ∑∏ÏïÑÏõÉ</button>
                        </form>
                    </div>
                    <div class="mypage-item" th:unless="${session.member eq null}"><a th:text="'Ìè¨Ïù∏Ìä∏: ' + ${member.userPoint}"></a></div>
                </div>
                <ul>
                    <li>
                        <div class="mobile-chimhaha-head">
                            <a href="boardForm.html" th:href="@{|/board/chimhaha|}">Ïπ®ÌïòÌïò</a>
                            <!-- <div class="mobile-dropdown" onclick="mDropdown()"> -->
                            <div class="mobile-dropdown">
                                <i class="fa-solid fa-caret-up"></i>
                            </div>
                        </div>
                        <ul class="mobile-chimhaha-ul">
                            <li><a href="boardForm.html" th:href="@{|/board/chimhaha|}">üëçÏπ®ÌïòÌïò</a></li>
                        </ul>
                    </li>
                </ul>
                <ul>
                    <li>
                        <div class="mobile-menu-head">
                            <a onclick="updateLike(this)" href="boardForm.html" th:href="@{|/board/all|}">Ï†ÑÏ≤¥Í∏Ä</a>
                            <div class="mobile-dropdown">
                                <i class="fa-solid fa-caret-up"></i>
                            </div>
                        </div>
                        <ul class="mobile-all-ul">
                            <li><a href="boardForm.html" th:href="@{|/board/all|}">üìÑÏ†ÑÏ≤¥Í∏Ä</a></li>
                        </ul>
                    </li>
                </ul>
                <ul>
                    <li>
                        <div class="mobile-menu-head">
                            <a href="boardForm.html" th:href="@{|/board/total_chim|}">Ïπ®Ï∞©Îß®</a>
                            <div class="mobile-dropdown">
                                <i class="fa-solid fa-caret-up"></i>
                            </div>
                        </div>
                        <ul class="mobile-chim-ul">
                            <li><a href="boardForm.html" th:href="@{|/board/notice|}">üëÄÎ∞©ÏÜ°ÏùºÏ†ï Î∞è Í≥µÏßÄ</a></li>
                            <hr class="hr">
                            <li><a href="boardForm.html" th:href="@{|/board/chim|}">üòäÏπ®Ï∞©Îß®</a></li>
                            <li><a href="boardForm.html" th:href="@{|/board/chim_jjal|}">üéÉÏπ®Ï∞©Îß® Ïß§</a></li>
                            <li><a href="boardForm.html" th:href="@{|/board/chim_fanart|}">üé®Ïπ®Ï∞©Îß® Ìå¨ÏïÑÌä∏</a></li>
                        </ul>
                    </li>
                    <li>
                        <div class="mobile-menu-head">
                            <a href="boardForm.html" th:href="@{|/board/total_chimtubu|}">Ïπ®Ìà¨Î∂Ä</a>
                            <div class="mobile-dropdown">
                                <i class="fa-solid fa-caret-up"></i>
                            </div>
                        </div>
                        <ul class="mobile-chimtubu-ul">
                            <li><a href="boardForm.html" th:href="@{|/board/request_stream|}">üì£Î∞©ÏÜ° Ìï¥Ï§òÏöî</a></li>
                            <li><a href="boardForm.html" th:href="@{|/board/find_chimtube|}">üç≥Ïπ®Ìà¨Î∂Ä Ï∞æÏïÑÏöî</a></li>
                            <li><a href="boardForm.html" th:href="@{|/board/make_short|}">üé¨ÏáºÏ∏† ÎßåÎì§Ïñ¥Ï§òÏöî</a></li>
                            <li><a href="boardForm.html" th:href="@{|/board/favorite_chimtubu|}">üëìÏû¨Î∞åÍ≤å Î≥∏ Ïπ®Ìà¨Î∂Ä</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>
            <script>
                // Î™®Î∞îÏùº Î©îÎâ¥ ÎìúÎûçÎã§Ïö¥ Ïù¥Î≤§Ìä∏
                $('.mobile-dropdown').on('click', function() {

                    if ($('.mobile-dropdown').index(this) == 0) {
                        if ($('.mobile-chimhaha-ul').is(':visible')) {
                            $('.mobile-chimhaha-ul').hide();
                        } else {
                            $('.mobile-chimhaha-ul').show();
                        }
                    } else if ($('.mobile-dropdown').index(this) == 1) {
                        if ($('.mobile-all-ul').is(':visible')) {
                            $('.mobile-all-ul').hide();
                        } else {
                            $('.mobile-all-ul').show();
                        }
                    } else if ($('.mobile-dropdown').index(this) == 2) {
                        if ($('.mobile-chim-ul').is(':visible')) {
                            $('.mobile-chim-ul').hide();
                        } else {
                            $('.mobile-chim-ul').show();
                        }
                    } else if ($('.mobile-dropdown').index(this) == 3) {
                        if ($('.mobile-chimtubu-ul').is(':visible')) {
                            $('.mobile-chimtubu-ul').hide();
                        } else {
                            $('.mobile-chimtubu-ul').show();
                        }
                    }
                });
            </script>
        </div>
    </header>

    <aside id="shortcut">
        <div class="content-box">
            <nav th:if="${session.member ne null}">
                <span class="shortcut-title">Ï¶êÍ≤®Ï∞æÍ∏∞</span>
                <span><a th:href="'/board/' + ${member.favorite1}" th:text="${member.favoriteName1}" th:if="${member.favoriteName1 ne null}">Ï¶êÏ∞æ1</a></span>
                <span><a th:href="'/board/' + ${member.favorite2}" th:text="${member.favoriteName2}" th:if="${member.favoriteName2 ne null}">Ï¶êÏ∞æ2</a></span>
                <span><a th:href="'/board/' + ${member.favorite3}" th:text="${member.favoriteName3}" th:if="${member.favoriteName3 ne null}">Ï¶êÏ∞æ3</a></span>
                <span><a th:href="'/board/' + ${member.favorite4}" th:text="${member.favoriteName4}" th:if="${member.favoriteName4 ne null}">Ï¶êÏ∞æ4</a></span>
                <span><a th:href="'/board/' + ${member.favorite5}" th:text="${member.favoriteName5}" th:if="${member.favoriteName5 ne null}">Ï¶êÏ∞æ5</a></span>
                <span><a th:href="'/board/' + ${member.favorite6}" th:text="${member.favoriteName6}" th:if="${member.favoriteName6 ne null}">Ï¶êÏ∞æ6</a></span>
                <span><a th:href="'/board/' + ${member.favorite7}" th:text="${member.favoriteName7}" th:if="${member.favoriteName7 ne null}">Ï¶êÏ∞æ7</a></span>
                <span><a th:href="'/board/' + ${member.favorite8}" th:text="${member.favoriteName8}" th:if="${member.favoriteName8 ne null}">Ï¶êÏ∞æ8</a></span>
                <span><a th:href="'/board/' + ${member.favorite9}" th:text="${member.favoriteName9}" th:if="${member.favoriteName9 ne null}">Ï¶êÏ∞æ9</a></span>
                <span><a th:href="'/board/' + ${member.favorite10}" th:text="${member.favoriteName10}" th:if="${member.favoriteName10 ne null}">Ï¶êÏ∞æ10</a></span>
            </nav>
            <hr class="hr">
            <nav>
                <span class="shortcut-title">ÏµúÍ∑ºÎ∞©Î¨∏</span>
                <span><a th:href="'/board/' + ${board.visitBoard1}" th:text="${board.visitBoardName1}" th:if="${board.visitBoardName1 ne null}">ÏµúÍ∑ºÎ∞©Î¨∏1</a></span>
                <span><a th:href="'/board/' + ${board.visitBoard2}" th:text="${board.visitBoardName2}" th:if="${board.visitBoardName2 ne null}">ÏµúÍ∑ºÎ∞©Î¨∏2</a></span>
                <span><a th:href="'/board/' + ${board.visitBoard3}" th:text="${board.visitBoardName3}" th:if="${board.visitBoardName3 ne null}">ÏµúÍ∑ºÎ∞©Î¨∏3</a></span>
                <span><a th:href="'/board/' + ${board.visitBoard4}" th:text="${board.visitBoardName4}" th:if="${board.visitBoardName4 ne null}">ÏµúÍ∑ºÎ∞©Î¨∏4</a></span>
                <span><a th:href="'/board/' + ${board.visitBoard5}" th:text="${board.visitBoardName5}" th:if="${board.visitBoardName5 ne null}">ÏµúÍ∑ºÎ∞©Î¨∏5</a></span>
                <span><a th:href="'/board/' + ${board.visitBoard6}" th:text="${board.visitBoardName6}" th:if="${board.visitBoardName6 ne null}">ÏµúÍ∑ºÎ∞©Î¨∏6</a></span>
                <span><a th:href="'/board/' + ${board.visitBoard7}" th:text="${board.visitBoardName7}" th:if="${board.visitBoardName7 ne null}">ÏµúÍ∑ºÎ∞©Î¨∏7</a></span>
                <span><a th:href="'/board/' + ${board.visitBoard8}" th:text="${board.visitBoardName8}" th:if="${board.visitBoardName8 ne null}">ÏµúÍ∑ºÎ∞©Î¨∏8</a></span>
                <span><a th:href="'/board/' + ${board.visitBoard9}" th:text="${board.visitBoardName9}" th:if="${board.visitBoardName9 ne null}">ÏµúÍ∑ºÎ∞©Î¨∏9</a></span>
                <span><a th:href="'/board/' + ${board.visitBoard10}" th:text="${board.visitBoardName10}" th:if="${board.visitBoardName10 ne null}">ÏµúÍ∑ºÎ∞©Î¨∏10</a></span>
            </nav>
        </div>
    </aside>
</th:block>
</html>